!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@babel/runtime-corejs3/core-js-stable/instance/slice"),require("@babel/runtime-corejs3/core-js-stable/array/from"),require("@babel/runtime-corejs3/core-js-stable/symbol"),require("@babel/runtime-corejs3/core-js/get-iterator-method"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),require("@babel/runtime-corejs3/core-js-stable/instance/filter"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),require("@babel/runtime-corejs3/core-js-stable/object/define-properties"),require("@babel/runtime-corejs3/core-js-stable/object/define-property"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@babel/runtime-corejs3/helpers/slicedToArray"),require("@babel/runtime-corejs3/helpers/typeof"),require("@babel/runtime-corejs3/helpers/asyncToGenerator"),require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/classPrivateFieldSet"),require("@babel/runtime-corejs3/helpers/classPrivateFieldGet"),require("@babel/runtime-corejs3/core-js-stable/object/keys"),require("@babel/runtime-corejs3/core-js-stable/instance/for-each"),require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js-stable/array/is-array"),require("@babel/runtime-corejs3/core-js-stable/instance/map"),require("@babel/runtime-corejs3/core-js-stable/promise"),require("@babel/runtime-corejs3/core-js-stable/set-timeout"),require("@babel/runtime-corejs3/core-js-stable/instance/concat"),require("@babel/runtime-corejs3/core-js-stable/instance/reduce"),require("@babel/runtime-corejs3/core-js-stable/object/entries"),require("@babel/runtime-corejs3/core-js-stable/weak-map"),require("@babel/runtime-corejs3/core-js-stable/weak-set"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.join.js"),require("neo4j-driver"),require("neo4j-driver-core"),require("vis-network/standalone"),require("deepmerge"),require("lodash")):"function"==typeof define&&define.amd?define(["@babel/runtime-corejs3/core-js-stable/instance/slice","@babel/runtime-corejs3/core-js-stable/array/from","@babel/runtime-corejs3/core-js-stable/symbol","@babel/runtime-corejs3/core-js/get-iterator-method","@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols","@babel/runtime-corejs3/core-js-stable/instance/filter","@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor","@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors","@babel/runtime-corejs3/core-js-stable/object/define-properties","@babel/runtime-corejs3/core-js-stable/object/define-property","@babel/runtime-corejs3/helpers/defineProperty","@babel/runtime-corejs3/helpers/slicedToArray","@babel/runtime-corejs3/helpers/typeof","@babel/runtime-corejs3/helpers/asyncToGenerator","@babel/runtime-corejs3/helpers/classCallCheck","@babel/runtime-corejs3/helpers/createClass","@babel/runtime-corejs3/helpers/classPrivateFieldSet","@babel/runtime-corejs3/helpers/classPrivateFieldGet","@babel/runtime-corejs3/core-js-stable/object/keys","@babel/runtime-corejs3/core-js-stable/instance/for-each","@babel/runtime-corejs3/regenerator","@babel/runtime-corejs3/core-js-stable/array/is-array","@babel/runtime-corejs3/core-js-stable/instance/map","@babel/runtime-corejs3/core-js-stable/promise","@babel/runtime-corejs3/core-js-stable/set-timeout","@babel/runtime-corejs3/core-js-stable/instance/concat","@babel/runtime-corejs3/core-js-stable/instance/reduce","@babel/runtime-corejs3/core-js-stable/object/entries","@babel/runtime-corejs3/core-js-stable/weak-map","@babel/runtime-corejs3/core-js-stable/weak-set","core-js/modules/es.function.name.js","core-js/modules/es.array.iterator.js","core-js/modules/es.object.to-string.js","core-js/modules/es.promise.js","core-js/modules/es.string.iterator.js","core-js/modules/web.dom-collections.iterator.js","core-js/modules/es.array.join.js","neo4j-driver","neo4j-driver-core","vis-network/standalone","deepmerge","lodash"],r):"object"==typeof exports?exports.NeoVis=r(require("@babel/runtime-corejs3/core-js-stable/instance/slice"),require("@babel/runtime-corejs3/core-js-stable/array/from"),require("@babel/runtime-corejs3/core-js-stable/symbol"),require("@babel/runtime-corejs3/core-js/get-iterator-method"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),require("@babel/runtime-corejs3/core-js-stable/instance/filter"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),require("@babel/runtime-corejs3/core-js-stable/object/define-properties"),require("@babel/runtime-corejs3/core-js-stable/object/define-property"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@babel/runtime-corejs3/helpers/slicedToArray"),require("@babel/runtime-corejs3/helpers/typeof"),require("@babel/runtime-corejs3/helpers/asyncToGenerator"),require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/classPrivateFieldSet"),require("@babel/runtime-corejs3/helpers/classPrivateFieldGet"),require("@babel/runtime-corejs3/core-js-stable/object/keys"),require("@babel/runtime-corejs3/core-js-stable/instance/for-each"),require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js-stable/array/is-array"),require("@babel/runtime-corejs3/core-js-stable/instance/map"),require("@babel/runtime-corejs3/core-js-stable/promise"),require("@babel/runtime-corejs3/core-js-stable/set-timeout"),require("@babel/runtime-corejs3/core-js-stable/instance/concat"),require("@babel/runtime-corejs3/core-js-stable/instance/reduce"),require("@babel/runtime-corejs3/core-js-stable/object/entries"),require("@babel/runtime-corejs3/core-js-stable/weak-map"),require("@babel/runtime-corejs3/core-js-stable/weak-set"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.join.js"),require("neo4j-driver"),require("neo4j-driver-core"),require("vis-network/standalone"),require("deepmerge"),require("lodash")):e.NeoVis=r(e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0])}(self,(function(e,r,t,n,o,s,i,a,l,c,u,b,d,p,v,f,h,j,m,y,g,x,w,k,q,E,C,I,N,T,A,S,_,O,P,F,D,M,U,R,L,H){return(()=>{"use strict";var V={145:e=>{e.exports=r},852:e=>{e.exports=x},848:e=>{e.exports=E},370:e=>{e.exports=s},349:e=>{e.exports=y},820:e=>{e.exports=w},83:e=>{e.exports=C},740:r=>{r.exports=e},593:e=>{e.exports=l},551:e=>{e.exports=c},209:e=>{e.exports=I},249:e=>{e.exports=i},660:e=>{e.exports=a},266:e=>{e.exports=o},995:e=>{e.exports=m},723:e=>{e.exports=k},519:e=>{e.exports=q},581:e=>{e.exports=t},317:e=>{e.exports=N},483:e=>{e.exports=T},260:e=>{e.exports=n},404:e=>{e.exports=p},621:e=>{e.exports=v},779:e=>{e.exports=j},642:e=>{e.exports=h},537:e=>{e.exports=f},783:e=>{e.exports=u},105:e=>{e.exports=b},543:e=>{e.exports=d},381:e=>{e.exports=g},570:e=>{e.exports=S},452:e=>{e.exports=D},128:e=>{e.exports=A},76:e=>{e.exports=_},503:e=>{e.exports=O},207:e=>{e.exports=P},416:e=>{e.exports=F},613:e=>{e.exports=L},411:e=>{e.exports=H},949:e=>{e.exports=M},55:e=>{e.exports=U},365:e=>{e.exports=R}},G={};function z(e){var r=G[e];if(void 0!==r)return r.exports;var t=G[e]={exports:{}};return V[e](t,t.exports,z),t.exports}z.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return z.d(r,{a:r}),r},z.d=(e,r)=>{for(var t in r)z.o(r,t)&&!z.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},z.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),z.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var W={};return(()=>{z.r(W),z.d(W,{EventController:()=>fe,NEOVIS_ADVANCED_CONFIG:()=>xe,NEOVIS_DEFAULT_CONFIG:()=>ge,NeoVis:()=>Ye,NeoVisEvents:()=>e,default:()=>gr,migrateFromOldConfig:()=>yr,objectToTitleHtml:()=>hr,objectToTitleHtml2:()=>jr,objectToTitleString:()=>mr});var e,r=z(740),t=z.n(r),n=z(145),o=z.n(n),s=z(581),i=z.n(s),a=z(260),l=z.n(a),c=z(266),u=z.n(c),b=z(370),d=z.n(b),p=z(249),v=z.n(p),f=z(660),h=z.n(f),j=z(593),m=z.n(j),y=z(551),g=z.n(y),x=z(783),w=z.n(x),k=z(105),q=z.n(k),E=z(543),C=z.n(E),I=z(404),N=z.n(I),T=z(621),A=z.n(T),S=z(537),_=z.n(S),O=z(642),P=z.n(O),F=z(779),D=z.n(F),M=z(381),U=z.n(M),R=z(820),L=z.n(R),H=z(852),V=z.n(H),G=z(723),B=z.n(G),J=z(519),Q=z.n(J),Y=z(848),$=z.n(Y),K=z(995),X=z.n(K),Z=z(83),ee=z.n(Z),re=z(209),te=z.n(re),ne=z(317),oe=z.n(ne),se=z(483),ie=z.n(se),ae=z(349),le=z.n(ae),ce=(z(128),z(570),z(76),z(503),z(207),z(416),z(452),z(949)),ue=z.n(ce),be=z(55),de=z(365),pe={neo4j:{initialQuery:"MATCH (n) WHERE exists(n.pagerank)\n                        WITH (n), RAND() AS random\n                        ORDER BY random LIMIT 3000\n                        OPTIONAL MATCH (n)-[r]-(m)\n                        //WITH n,r,m WHERE exists(n.pagerank) AND exists(m.pagerank) AND exists(m.community)\n                        RETURN n, r, m;",neo4jUri:"bolt://localhost:7687",neo4jUser:"neo4j",neo4jPassword:"neo4j",driverConfig:{encrypted:"ENCRYPTION_OFF",trust:"TRUST_ALL_CERTIFICATES",maxConnectionPoolSize:100,connectionAcquisitionTimeout:1e4,disableLosslessIntegers:!0}},visJs:{nodes:{font:{size:26,strokeWidth:7},scaling:{}},edges:{arrows:{to:{enabled:!1}},length:200},layout:{improvedLayout:!1,hierarchical:{enabled:!1,sortMethod:"hubsize"}},physics:{adaptiveTimestep:!0,stabilization:{iterations:200,fit:!0}}}};function ve(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}!function(e){e.CompletionEvent="completed",e.ClickNodeEvent="clickNode",e.ClickEdgeEvent="clickEdge",e.ErrorEvent="error"}(e||(e={}));var fe=function(){function r(){var t;A()(this,r),w()(this,"_handlers",void 0),this._handlers=(t={},w()(t,e.CompletionEvent,[]),w()(t,e.ErrorEvent,[]),w()(t,e.ClickNodeEvent,[]),w()(t,e.ClickEdgeEvent,[]),t)}return _()(r,[{key:"register",value:function(e,r){if(void 0===this._handlers[e])throw new Error("Unknown event: "+e);this._handlers[e].push(r)}},{key:"generateEvent",value:function(e,r){if(void 0===this._handlers[e])throw new Error("Unknown event: "+e);var n,s=function(e,r){var n=void 0!==i()&&l()(e)||e["@@iterator"];if(!n){if(V()(e)||(n=function(e,r){var n;if(e){if("string"==typeof e)return ve(e,r);var s=t()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?o()(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ve(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,b=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){b=!0,c=e},f:function(){try{u||null==n.return||n.return()}finally{if(b)throw c}}}}(this._handlers[e]);try{for(s.s();!(n=s.n()).done;)(0,n.value)(r)}catch(e){s.e(e)}finally{s.f()}}}]),r}(),he=z(613),je=z.n(he),me=z(411),ye=z.n(me),ge=i()(),xe=i()();function we(e,r){var t=X()(e);if(u()){var n=u()(e);r&&(n=d()(n).call(n,(function(r){return v()(e,r).enumerable}))),t.push.apply(t,n)}return t}function ke(e){for(var r=1;r<arguments.length;r++){var t,n=null!=arguments[r]?arguments[r]:{};if(r%2)le()(t=we(Object(n),!0)).call(t,(function(r){w()(e,r,n[r])}));else if(h())m()(e,h()(n));else{var o;le()(o=we(Object(n))).call(o,(function(r){g()(e,r,v()(n,r))}))}}return e}function qe(e,r){var n=void 0!==i()&&l()(e)||e["@@iterator"];if(!n){if(V()(e)||(n=function(e,r){var n;if(e){if("string"==typeof e)return Ee(e,r);var s=t()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?o()(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ee(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,b=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){b=!0,c=e},f:function(){try{u||null==n.return||n.return()}finally{if(b)throw c}}}}function Ee(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ce(e,r){Ne(e,r),r.add(e)}function Ie(e,r,t){Ne(e,r),r.set(e,t)}function Ne(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Te(e,r,t){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var Ae=new(oe()),Se=new(oe()),_e=new(oe()),Oe=new(oe()),Pe=new(oe()),Fe=new(oe()),De=new(oe()),Me=new(oe()),Ue=new(ie()),Re=new(ie()),Le=new(ie()),He=new(ie()),Ve=new(ie()),Ge=new(ie()),ze=new(ie()),We=new(ie()),Be=new(ie()),Je=new(ie()),Qe=new(ie()),Ye=function(){function r(e){A()(this,r),Ce(this,Qe),Ce(this,Je),Ce(this,Be),Ce(this,We),Ce(this,ze),Ce(this,Ge),Ce(this,Ve),Ce(this,He),Ce(this,Le),Ce(this,Re),Ce(this,Ue),Ie(this,Ae,{writable:!0,value:{nodes:new de.DataSet,edges:new de.DataSet}}),Ie(this,Se,{writable:!0,value:null}),Ie(this,_e,{writable:!0,value:new fe}),Ie(this,Oe,{writable:!0,value:void 0}),Ie(this,Pe,{writable:!0,value:void 0}),Ie(this,Fe,{writable:!0,value:void 0}),Ie(this,De,{writable:!0,value:void 0}),Ie(this,Me,{writable:!0,value:void 0}),Te(this,Re,Ke).call(this,e),Te(this,Ue,$e).call(this,e),Te(this,Ue,$e).call(this,pe)}return _()(r,[{key:"nodes",get:function(){return D()(this,Ae).nodes}},{key:"edges",get:function(){return D()(this,Ae).edges}},{key:"_config",get:function(){return D()(this,Oe)}},{key:"network",get:function(){return D()(this,Se)}},{key:"render",value:function(r){var t,n=this,o=0,s=r||D()(this,De),i=D()(this,Pe).session(D()(this,Fe)?{database:D()(this,Fe)}:void 0),a=[];i.run(s,{limit:30}).subscribe({onNext:function(e){o++,Te(n,Ue,$e).call(n,"CLASS NAME"),Te(n,Ue,$e).call(n,null==e?void 0:e.constructor.name),Te(n,Ue,$e).call(n,e);var r=L()(e).call(e,function(){var e=N()(U().mark((function e(r){var t,o,s,i,a,l,c,u,b,d,p,v;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te(n,Ue,$e).call(n,"Constructor:"),Te(n,Ue,$e).call(n,null==r?void 0:r.constructor.name),!(0,be.isNode)(r)){e.next=9;break}return e.next=5,Te(n,Je,cr).call(n,r);case 5:t=e.sent;try{D()(n,Ae).nodes.update(t)}catch(e){Te(n,Ue,$e).call(n,e,"error")}e.next=89;break;case 9:if(!(0,be.isRelationship)(r)){e.next=16;break}return e.next=12,Te(n,Qe,br).call(n,r);case 12:o=e.sent,D()(n,Ae).edges.update(o),e.next=89;break;case 16:if(!(0,be.isPath)(r)){e.next=59;break}return Te(n,Ue,$e).call(n,"PATH"),Te(n,Ue,$e).call(n,r),e.next=21,Te(n,Je,cr).call(n,r.start);case 21:return s=e.sent,e.next=24,Te(n,Je,cr).call(n,r.end);case 24:i=e.sent,D()(n,Ae).nodes.update(s),D()(n,Ae).nodes.update(i),a=qe(r.segments),e.prev=28,a.s();case 30:if((l=a.n()).done){e.next=49;break}return c=l.value,e.t0=D()(n,Ae).nodes,e.next=35,Te(n,Je,cr).call(n,c.start);case 35:return e.t1=e.sent,e.t0.update.call(e.t0,e.t1),e.t2=D()(n,Ae).nodes,e.next=40,Te(n,Je,cr).call(n,c.end);case 40:return e.t3=e.sent,e.t2.update.call(e.t2,e.t3),e.t4=D()(n,Ae).edges,e.next=45,Te(n,Qe,br).call(n,c.relationship);case 45:e.t5=e.sent,e.t4.update.call(e.t4,e.t5);case 47:e.next=30;break;case 49:e.next=54;break;case 51:e.prev=51,e.t6=e.catch(28),a.e(e.t6);case 54:return e.prev=54,a.f(),e.finish(54);case 57:e.next=89;break;case 59:if(!V()(r)){e.next=89;break}u=qe(r),e.prev=61,u.s();case 63:if((b=u.n()).done){e.next=81;break}if(d=b.value,Te(n,Ue,$e).call(n,"Array element constructor:"),Te(n,Ue,$e).call(n,null==d?void 0:d.constructor.name),!(0,be.isNode)(d)){e.next=74;break}return e.next=70,Te(n,Je,cr).call(n,d);case 70:p=e.sent,D()(n,Ae).nodes.update(p),e.next=79;break;case 74:if(!(0,be.isRelationship)(d)){e.next=79;break}return e.next=77,Te(n,Qe,br).call(n,d);case 77:v=e.sent,D()(n,Ae).edges.update(v);case 79:e.next=63;break;case 81:e.next=86;break;case 83:e.prev=83,e.t7=e.catch(61),u.e(e.t7);case 86:return e.prev=86,u.f(),e.finish(86);case 89:case"end":return e.stop()}}),e,null,[[28,51,54,57],[61,83,86,89]])})));return function(r){return e.apply(this,arguments)}}());a.push(B().all(r))},onCompleted:(t=N()(U().mark((function r(){var t,s,l,c;return U().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B().all(a);case 2:return r.next=4,i.close();case 4:D()(n,Se)||(s=je()(pe.visJs,null!==(t=D()(n,Oe).visConfig)&&void 0!==t?t:{}),l=D()(n,Me),Te(n,Ue,$e).call(n,D()(n,Ae).nodes),Te(n,Ue,$e).call(n,D()(n,Ae).edges),P()(n,Se,new de.Network(l,D()(n,Ae),s))),Te(n,Ue,$e).call(n,"completed"),Q()((function(){D()(n,Se).stopSimulation()}),1e4),D()(n,_e).generateEvent(e.CompletionEvent,{recordCount:o}),c=n,D()(n,Se).on("click",(function(r){if(r.nodes.length>0){var t=this.getNodeAt(r.pointer.DOM);D()(c,_e).generateEvent(e.ClickNodeEvent,{nodeId:t,node:D()(c,Ae).nodes.get(t)})}else if(r.edges.length>0){var n=this.getEdgeAt(r.pointer.DOM);D()(c,_e).generateEvent(e.ClickEdgeEvent,{edgeId:n,edge:D()(c,Ae).edges.get(n)})}}));case 10:case"end":return r.stop()}}),r)}))),function(){return t.apply(this,arguments)}),onError:function(r){Te(n,Ue,$e).call(n,r,"error"),D()(n,_e).generateEvent(e.ErrorEvent,{error:r})}})}},{key:"clearNetwork",value:function(){D()(this,Ae).nodes.clear(),D()(this,Ae).edges.clear()}},{key:"registerOnEvent",value:function(e,r){D()(this,_e).register(e,r)}},{key:"reinit",value:function(e){Te(this,Re,Ke).call(this,e),this.render()}},{key:"reload",value:function(){this.clearNetwork(),this.render()}},{key:"stabilize",value:function(){D()(this,Se).stopSimulation(),Te(this,Ue,$e).call(this,"Calling stopSimulation")}},{key:"renderWithCypher",value:function(e){this.clearNetwork(),P()(this,De,e),this.render()}},{key:"updateWithCypher",value:function(e){this.render(e)}}]),r}();function $e(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";("log"!==r||D()(this,Oe).consoleDebug)&&console[r](e)}function Ke(e){var r,t,n,o,s,i,a,l,c,u,b;if(e.nonFlat&&e.defaultLabelConfig){if((u=e.defaultLabelConfig)[xe])throw new Error("non flat config can't use NEOVIS_ADVANCED_CONFIG, read the doc to see how the config should look");if((b=e.defaultRelationshipsConfig)[xe])throw new Error("non flat config can't use NEOVIS_ADVANCED_CONFIG, read the doc to see how the config should look")}else{var d,p;u=null===(d=e.labels)||void 0===d?void 0:d[ge],b=null===(p=e.relationships)||void 0===p?void 0:p[ge]}if(u)for(var v=0,f=X()(e.labels);v<f.length;v++){var h,j,m,y,g,x=f[v];e=e.nonFlat?ke(ke({},e),{},{labels:ke(ke({},e.labels),{},w()({},x,je()(u,null===(h=e.labels)||void 0===h?void 0:h[x])))}):ke(ke({},e),{},{labels:ke(ke({},e.labels),{},w()({},x,ke(ke({},je()(u,null===(j=e.labels)||void 0===j?void 0:j[x])),{},w()({},xe,je()(null!==(m=u[xe])&&void 0!==m?m:{},null!==(y=(null===(g=e.labels)||void 0===g?void 0:g[x])[xe])&&void 0!==y?y:{})))))})}if(b)for(var k=0,q=X()(e.relationships);k<q.length;k++){var E,C,I,N,T,A=q[k];e=e.nonFlat?ke(ke({},e),{},{relationships:ke(ke({},e.relationships),{},w()({},A,je()(b,null===(E=e.relationships)||void 0===E?void 0:E[A])))}):ke(ke({},e),{},{relationships:ke(ke({},e.labels),{},w()({},A,ke(ke({},je()(b,null===(C=e.relationships)||void 0===C?void 0:C[A])),{},w()({},xe,je()(null!==(I=b[xe])&&void 0!==I?I:{},null!==(N=(null===(T=e.relationships)||void 0===T?void 0:T[A])[xe])&&void 0!==N?N:{})))))})}P()(this,Oe,e),P()(this,Pe,e.neo4j instanceof ue().driver?e.neo4j:ue().driver(null!==(r=null===(t=e.neo4j)||void 0===t?void 0:t.serverUrl)&&void 0!==r?r:pe.neo4j.neo4jUri,ue().auth.basic(null!==(n=null===(o=e.neo4j)||void 0===o?void 0:o.serverUser)&&void 0!==n?n:pe.neo4j.neo4jUser,null!==(s=null===(i=e.neo4j)||void 0===i?void 0:i.serverPassword)&&void 0!==s?s:pe.neo4j.neo4jPassword),je()(pe.neo4j.driverConfig,null!==(a=null===(l=e.neo4j)||void 0===l?void 0:l.driverConfig)&&void 0!==a?a:{}))),P()(this,Fe,e.serverDatabase),P()(this,De,null!==(c=e.initialCypher)&&void 0!==c?c:pe.neo4j.initialQuery),P()(this,Me,document.getElementById(e.containerId))}function Xe(e,r){return Ze.apply(this,arguments)}function Ze(){return(Ze=N()(U().mark((function e(r,t){var n,o,s,i,a,l;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D()(this,Pe).session(D()(this,Fe)&&{database:D()(this,Fe)}),o=[],e.prev=2,e.next=5,n.readTransaction((function(e){return e.run(r,{id:t})}));case 5:s=e.sent,i=qe(s.records);try{for(i.s();!(a=i.n()).done;)l=a.value,le()(l).call(l,(function(e){o.push(e)}))}catch(e){i.e(e)}finally{i.f()}case 8:return e.prev=8,e.next=11,n.close();case 11:return e.finish(8);case 12:if(0!==o.length){e.next=16;break}return e.abrupt("return",void 0);case 16:if(1!==o.length){e.next=18;break}return e.abrupt("return",o.pop());case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this,[[2,,8,12]])})))).apply(this,arguments)}function er(e,r){if("function"==typeof e)return e(r);throw new Error("Function type property field must be a function")}function rr(e,r){if(e&&"object"===C()(e)){var t,n=qe(X()(e));try{for(n.s();!(t=n.n()).done;){var o=t.value,s=e[o];s&&"object"===C()(s)?(r[o]||(r[o]={}),Te(this,Ve,rr).call(this,s,r[o])):r[o]=s}}catch(e){n.e(e)}finally{n.f()}}}function tr(e,r,t){if(e&&"object"===C()(e)){var n,o=qe(X()(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,i=e[s];if("object"===C()(i))r[s]||(r[s]={}),Te(this,Ge,tr).call(this,i,r[s],t);else{var a=e[s];r[s]=fr(a,t)}}}catch(e){o.e(e)}finally{o.f()}}}function nr(e,r,t){return or.apply(this,arguments)}function or(){return(or=N()(U().mark((function e(r,t,n){var o,s,i,a;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||"object"!==C()(r)){e.next=26;break}o=qe(X()(r)),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=18;break}if(i=s.value,!(a=r[i])||"object"!==C()(a)){e.next=13;break}return t[i]||(t[i]={}),e.next=11,Te(this,ze,nr).call(this,a,t[i],n);case 11:e.next=16;break;case 13:return e.next=15,Te(this,Le,Xe).call(this,a,n);case 15:t[i]=e.sent;case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),o.e(e.t0);case 23:return e.prev=23,o.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[2,20,23,26]])})))).apply(this,arguments)}function sr(e,r,t){return ir.apply(this,arguments)}function ir(){return(ir=N()(U().mark((function e(r,t,n){var o,s,i,a;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||"object"!==C()(r)){e.next=26;break}o=qe(X()(r)),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=18;break}if(i=s.value,!(a=r[i])||"object"!==C()(a)){e.next=13;break}return t[i]||(t[i]={}),e.next=11,Te(this,We,sr).call(this,a,t[i],n);case 11:e.next=16;break;case 13:return e.next=15,Te(this,He,er).call(this,a,n);case 15:t[i]=e.sent;case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),o.e(e.t0);case 23:return e.prev=23,o.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[2,20,23,26]])})))).apply(this,arguments)}function ar(e,r,t,n){return lr.apply(this,arguments)}function lr(){return(lr=N()(U().mark((function e(r,t,n,o){var s,i,a,l,c;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(!D()(this,Oe).nonFlat){e.next=12;break}if(void 0===r[xe]){e.next=5;break}throw new Error("Advanced config and non flat config should not be together");case 5:s=(r=r).static,i=r.cypher,a=r.property,l=r.function,e.next=20;break;case 12:if(c=(r=r)[xe],a=r,void 0===c||"object"==C()(c)){e.next=17;break}throw new Error("Advanced config should be an object. See documentation for details.");case 17:i=null==c?void 0:c.cypher,s=null==c?void 0:c.static,l=null==c?void 0:c.function;case 20:return Te(this,Ge,tr).call(this,a,t,n),Te(this,Ve,rr).call(this,s,t),e.next=24,Te(this,ze,nr).call(this,i,t,o);case 24:return e.next=26,Te(this,We,sr).call(this,l,t,n);case 26:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function cr(e){return ur.apply(this,arguments)}function ur(){return(ur=N()(U().mark((function e(r){var t,n,o,s,i,a,l,c,u,b;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={},u=r.labels[0],b=null!==(t=null!==(n=null===(o=D()(this,Oe))||void 0===o||null===(s=o.labels)||void 0===s?void 0:s[u])&&void 0!==n?n:null===(i=D()(this,Oe))||void 0===i?void 0:i.defaultLabelConfig)&&void 0!==t?t:null===(a=D()(this,Oe))||void 0===a||null===(l=a.labels)||void 0===l?void 0:l[ge],c.id=(0,be.isInt)(r.identity)?r.identity.toInt():r.identity,c.raw=r,e.next=7,Te(this,Be,ar).call(this,b,c,r,c.id);case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function br(e){return dr.apply(this,arguments)}function dr(){return(dr=N()(U().mark((function e(r){var t,n,o,s,i,a,l,c;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==(t=null!==(n=null===(o=D()(this,Oe))||void 0===o||null===(s=o.relationships)||void 0===s?void 0:s[r.type])&&void 0!==n?n:D()(this,Oe).defaultRelationshipsConfig)&&void 0!==t?t:null===(i=D()(this,Oe))||void 0===i||null===(a=i.relationships)||void 0===a?void 0:a[ge],(c={}).id=(0,be.isInt)(r.identity)?r.identity.toInt():r.identity,c.from=(0,be.isInt)(r.start)?r.start.toInt():r.start,c.to=(0,be.isInt)(r.end)?r.end.toInt():r.end,c.raw=r,e.next=8,Te(this,Be,ar).call(this,l,c,r,c.id);case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function pr(e,r){var t;if(V()(r)&&r.length>1){var n,o="<strong>".concat(e,":</strong><br /><ul>"),s=qe(r);try{for(s.s();!(n=s.n()).done;){var i=n.value;o+="<li>".concat(i,"</li>")}}catch(e){s.e(e)}finally{s.f()}return o+"</ul>"}return $()(t="<strong>".concat(e,":</strong> ")).call(t,r,"<br>")}function vr(e,r){var t,n;n=V()(r)&&r.length>1?String(r):r;var o=ye().truncate(n,{length:40});return $()(t="<strong>".concat(e,":</strong> ")).call(t,o,"<br>")}function fr(e,r){if("object"===C()(null==r?void 0:r.properties))return(0,be.isInt)(r.properties[e])?r.properties[e].toInt():r.properties[e];throw new Error("Neo4j object is not properly constructed")}function hr(e,r){var t="";r||(r=X()(e.properties));var n,o=qe(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,i=fr(s,e);i&&(t+=pr(s,i))}}catch(e){o.e(e)}finally{o.f()}var a=document.createElement("div");return a.innerHTML=t,a}function jr(e,r){var t="";if((0,be.isNode)(e)){var n=e.labels.join(" | ");t="<center><strong><u>".concat(n,"</u></strong></center><br>")}else t="<center><strong><u>".concat(e.type,"</u></strong></center><br>");r||(r=X()(e.properties));var o,s=qe(r);try{for(s.s();!(o=s.n()).done;){var i=o.value,a=fr(i,e);a&&(t+=vr(i,a))}}catch(e){s.e(e)}finally{s.f()}var l=document.createElement("div");return l.innerHTML=t,l}function mr(e,r){var t="";r||(r=X()(e.properties));var n,o=qe(r);try{for(o.s();!(n=o.n()).done;){var s,i=n.value,a=fr(i,e);a&&(t+=$()(s="".concat(i,": ")).call(s,a,"\n"))}}catch(e){o.e(e)}finally{o.f()}return t}function yr(e){var r,t,n,o,s;return{containerId:e.container_id,initialCypher:e.initial_cypher,consoleDebug:e.console_debug,serverDatabase:e.server_database,neo4j:{serverUrl:e.server_url,serverUser:e.server_user,serverPassword:e.server_password,driverConfig:e.encrypted||e.trust?{encrypted:e.encrypted,trust:e.trust}:void 0},visConfig:e.arrows||e.hierarchical?{edges:e.arrows?{arrows:{to:{enabled:e.arrows}}}:void 0,layout:e.hierarchical?{enabled:e.hierarchical,sortMethod:e.hierarchical_sort_method}:void 0}:void 0,labels:e.labels?ee()(r=$()(t=te()(e.labels)).call(t,null!==(n=e.labels)&&void 0!==n&&n[ge]?[[ge,e.labels[ge]]]:[])).call(r,(function(e,r){var t=q()(r,2),n=t[0],o=t[1];return e[n]=w()({label:"function"!=typeof o.caption?o.caption:void 0,value:o.size,group:o.community},xe,{cypher:o.sizeCypher?{value:o.sizeCypher}:void 0,function:je()({title:function(e){return hr(e,o.title_properties)}},"function"==typeof o.caption?{label:o.caption}:{}),static:{font:o.font,shape:o.image?"image":"dot",image:o.image}}),e}),{}):void 0,relationships:e.relationships?ee()(o=$()(s=te()(e.relationships)).call(s,e.relationships[ge]?[[ge,e.relationships[ge]]]:[])).call(o,(function(e,r){var t=q()(r,2),n=t[0],o=t[1];return e[n]=w()({value:o.thickness,label:"string"==typeof o.caption?o.caption:void 0},xe,{function:{title:hr}}),e}),{}):void 0}}const gr=Ye})(),W})()}));
//# sourceMappingURL=neovis-without-dependencies.js.map